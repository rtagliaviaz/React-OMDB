{"version":3,"sources":["components/MovieModal.js","components/Main.js","App.js","index.js"],"names":["MovieModal","movieInfo","handleClose","console","log","className","src","Poster","alt","Actors","Genre","Director","Released","Plot","onClick","api","apiKey","Main","useState","name","setName","list","setList","movieDetails","setMovieDetails","selID","setSelID","show","setShow","results","setResults","pagesNum","setPagesNum","actualPag","setActualPag","getInfo","page","axios","get","then","res","data","Search","totalResults","details","e","id","preventDefault","useEffect","pages","parseInt","getPages","i","push","key","goTo","window","scrollTo","htmlFor","type","placeholder","onChange","target","value","handleSubmit","map","movie","imdbID","Title","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.96b5e94d.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst MovieModal = ({movieInfo, handleClose}) => {\r\n  console.log('asda', movieInfo)\r\n  return (\r\n    <div className=\"modal display-block\">\r\n                <section className=\"modal-main\">\r\n                  \r\n                  <div className=\"modal-body\">\r\n                    <div className=\"modal-img\">\r\n                      <img src={movieInfo.Poster} alt=\"Poster\"/>\r\n                    </div>\r\n                    <div className=\"modal-info\">\r\n                      <p><b>Actors:</b> {movieInfo.Actors}</p>\r\n                      <p><b>Genre:</b> {movieInfo.Genre}</p>\r\n                      <p><b>Director:</b> {movieInfo.Director}</p>\r\n                      <p><b>Released:</b> {movieInfo.Released}</p>\r\n                      <p><b>Plot:</b> {movieInfo.Plot}</p>\r\n                    </div>\r\n                    \r\n                  </div>\r\n                  <button className=\"modal-closebtn\" onClick={handleClose}>Close</button>\r\n                </section>\r\n              </div>\r\n  )\r\n}\r\n\r\nexport default MovieModal\r\n","import React, {useState, useEffect} from 'react'\r\nimport axios from 'axios'\r\n\r\n//component\r\nimport MovieModal from './MovieModal'\r\n\r\n//api\r\nconst api = 'http://www.omdbapi.com/?'\r\n//api key\r\nconst apiKey = 'apikey=18eaeb4f'\r\n\r\n\r\nconst Main = () => {\r\n  const [name, setName] = useState('')\r\n  const [list, setList] = useState([])\r\n  const [movieDetails, setMovieDetails] = useState()\r\n  const [selID, setSelID] = useState('')\r\n\r\n  const [show, setShow] = useState(false)\r\n\r\n  //number of pages\r\n  const [results, setResults] = useState() //totalResults\r\n  const [pagesNum, setPagesNum] = useState() \r\n  const [pags, setPags] = useState() //paginas\r\n  const [selPage, setSelPage] = useState('')\r\n  const [actualPag, setActualPag] = useState()\r\n  \r\n  //pagination stuff\r\n\r\n  const getPages = () => {\r\n    if (results % 10 > 0 ) {\r\n      const pages = parseInt((results / 10)+1)\r\n      setPagesNum(pages)\r\n      return\r\n    }\r\n      const pages = parseInt(results / 10)\r\n      setPagesNum(pages)\r\n  }\r\n\r\n  //modal config\r\n\r\n  const showModal = () => {\r\n    setShow(true)\r\n  }\r\n\r\n  const hideModal = () => {\r\n    \r\n    setShow(false)\r\n    setMovieDetails()\r\n  }\r\n\r\n  const handleClose = () => {\r\n    hideModal()\r\n  }\r\n\r\n  //get response from API\r\n\r\n  const getInfo = (page) => {\r\n    if (page) {\r\n      axios.get(api+apiKey+`&s=${name}`+\"&type=movie\"+`&page=${page}`)\r\n    .then(res => {\r\n      if (res) {\r\n        console.log('api data', res.data)\r\n        setList(res.data.Search)\r\n        setResults(res.data.totalResults)\r\n      }\r\n    })\r\n    return\r\n    }\r\n    axios.get(api+apiKey+`&s=${name}`+\"&type=movie\"+\"&page=1\")\r\n    .then(res => {\r\n      if (res) {\r\n        console.log('api data', res.data)\r\n        setList(res.data.Search)\r\n        setResults(res.data.totalResults)\r\n        setActualPag(1)\r\n      }\r\n    })\r\n  }\r\n\r\n  //submit the title entered\r\n  \r\n  const handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    getInfo()\r\n  }\r\n\r\n\r\n  //get the details from movie\r\n\r\n  const details = (e, id) => {\r\n    e.preventDefault()\r\n    console.log(id)\r\n    setSelID(id)\r\n    axios.get(api+apiKey+`&i=${id}`)\r\n    .then(res => {\r\n      if (res) {\r\n        console.log(res.data)\r\n        setMovieDetails(res.data)\r\n      }\r\n    })\r\n    showModal()\r\n  }\r\n\r\n\r\n  //getpageseffect\r\n  useEffect(() => {\r\n    getPages()\r\n  })\r\n\r\n  const pages = [];\r\n  \r\n\r\n  for (let i = 1; i <= pagesNum; i++) {\r\n    pages.push(<p key={i} onClick={e => goTo(i)}>{i}</p>)\r\n  }\r\n\r\n  const goTo = (page) => {\r\n    console.log('page number', page)\r\n    setActualPag(page)\r\n    getInfo(page)\r\n    window.scrollTo(0, 0)\r\n  }\r\n\r\n    \r\n  return (\r\n    <div>\r\n   \r\n      <form>\r\n        \r\n        <div className=\"searchBar\">\r\n          <label htmlFor=\"name\"></label>\r\n          <input type=\"text\" name=\"name\" placeholder=\"movie name\"  onChange={e => setName(e.target.value)}/>\r\n          <button type=\"submit\" onClick={e => handleSubmit(e)}>Search</button>\r\n        </div>\r\n        \r\n      </form>\r\n\r\n      {list ? \r\n      <div className=\"movies\">\r\n        {list.map(movie => (\r\n          <div key={movie.imdbID} className=\"movie\">\r\n            <img src={movie.Poster} alt=\"\"/>\r\n            <div className=\"movie-title\">\r\n              <p>{movie.Title}</p>\r\n            </div>\r\n            <button className=\"movie-detailsBtn\" onClick={e => details(e, movie.imdbID)}>Details</button>\r\n            \r\n            {/* modal */}\r\n            {movieDetails && (selID===movie.imdbID) && show ? \r\n              <MovieModal movieInfo={movieDetails} handleClose={handleClose}/> : \r\n              <div className=\"modal display-none\"></div>\r\n            }\r\n\r\n          </div>))}\r\n      </div> \r\n      : null}\r\n\r\n      {pagesNum ? \r\n        <div className=\"pages\">\r\n          {/* {pages} */} \r\n          {/* if prev page is 0 it wont show */}\r\n          {actualPag-1===0 ? null : <b onClick={e => goTo(actualPag-1)}>{actualPag-1}</b>} \r\n          <b onClick={e => goTo(actualPag)} className=\"actualPage\">{actualPag}</b>\r\n          <b onClick={e => goTo(actualPag+1)}>{actualPag+1}</b>\r\n        </div>\r\n      : null}\r\n\r\n      \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Main\r\n","import React from 'react';\nimport './App.css'\n//components\nimport Main from './components/Main'\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      REACT OMDB\n      <Main />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}